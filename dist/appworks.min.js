!function(e){"use strict";function t(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var n,r=function(){function e(e,t){this.successHandler=e,this.errorHandler=t}return e}(),o=function(){function e(){this.fieldType={}}return e.prototype.create=function(e){return null},e.prototype.find=function(e,t,n,r){},e.prototype.pickContact=function(e,t){},e}(),i=function(){function e(){}return e.prototype.getCurrentAcceleration=function(e,t,n){return null},e.prototype.watchAcceleration=function(e,t,n){return null},e.prototype.clearWatch=function(e){},e}(),c=function(){function e(){}return e.prototype.cleanup=function(e,t){},e.prototype.getPicture=function(e,t,n){},e}(),u=function(){function e(){}return e.prototype.getCurrentHeading=function(e,t,n){},e.prototype.watchHeading=function(e,t,n){return null},e.prototype.clearWatch=function(e){},e}(),a=function(){function e(){}return e.prototype.clearWatch=function(e){},e.prototype.getCurrentPosition=function(e,t,n){},e.prototype.watchPosition=function(e,t,n){return null},e}(),s=function(){function e(e,t,n,r){}return e.prototype.getCurrentPosition=function(e,t){},e.prototype.getDuration=function(){return null},e.prototype.play=function(e){},e.prototype.pause=function(){},e.prototype.release=function(){},e.prototype.seekTo=function(e){},e.prototype.setVolume=function(e){},e.prototype.startRecord=function(){},e.prototype.stopRecord=function(){},e.prototype.stop=function(){},e}(),p=function(){function e(){}return e.prototype.captureAudio=function(e,t,n){},e.prototype.captureImage=function(e,t,n){},e.prototype.captureVideo=function(e,t,n){},e}(),f=function(){function e(){}return e.prototype.alert=function(e,t,n,r){},e.prototype.beep=function(e){},e.prototype.confirm=function(e,t,n,r){},e.prototype.prompt=function(e,t,n,r,o){},e.prototype.vibrate=function(){},e.prototype.vibrateWithPattern=function(){},e.prototype.cancelVibration=function(){},e}(),l=function(){function e(){}return e.prototype.addEventListener=function(e,t,n){},e.prototype.removeEventListener=function(e,t,n){},e}(),d=function(){function e(){}return e.prototype.vibrate=function(e){},e}(),h=function(){function e(){}return e.prototype.open=function(e,t,n){return null},e}();!function(e){e[e.PERSISTENT=0]="PERSISTENT",e[e.TEMPORARY=1]="TEMPORARY"}(n||(n={}));var y=function(){function e(){}return e.exec=function(e,t,n,r,o){cordova?cordova.exec(e,t,n,r,o):__aw_plugin_proxy?__aw_plugin_proxy.exec(e,t,n,r,o):console.error("No proxy objects defined - tried [Cordova, __aw_plugin_proxy]")},e.accelerometer=function(){return navigator.accelerometer||new i},e.camera=function(){return navigator.camera||new c},e.compass=function(){return navigator.compass||new u},e.connection=function(){return navigator.connection||new l},e.Connection=function(){return Connection||{UNKNOWN:null,ETHERNET:null,WIFI:null,CELL_2G:null,CELL_3G:null,CELL_4G:null,CELL:null,NONE:null}},e.contacts=function(){return navigator.contacts||new o},e.device=function(){var e=device||{cordova:null,model:null,platform:null,uuid:null,version:null,manufacturer:null,isVirtual:null,serial:null,capture:null};return e.capture=navigator.device&&navigator.device.capture||new p,e},e.geolocation=function(){return navigator.geolocation||new a},e.localFileSystem=function(){return n},e.media=function(e,t,n,r){return Media?new Media(e,t,n,r):new s(e,t,n,r)},e.notification=function(){return navigator.notification||new f},e.requestFileSystem=function(e,t,n,r){if(window.requestFileSystem)return window.requestFileSystem(e,t,n,r)},e.vibrate=function(e){return navigator.vibrate?navigator.vibrate(e):(new d).vibrate(e)},e.webview=function(){return cordova?cordova.InAppBrowser:new h},e}(),g=function(e){function n(){e.apply(this,arguments)}return t(n,e),n.prototype.getCurrentAcceleration=function(){var e=this;return y.accelerometer().getCurrentAcceleration(function(){return e.successHandler}(),function(){return e.errorHandler}())},n.prototype.watchAcceleration=function(e){var t=this;return y.accelerometer().watchAcceleration(function(){return t.successHandler}(),function(){return t.errorHandler}(),e)},n.prototype.clearWatch=function(e){return y.accelerometer().clearWatch(e)},n}(r),v=function(e){function n(){e.apply(this,arguments)}return t(n,e),n.prototype.closeActiveApp=function(){var e=this;y.exec(function(){return e.successHandler}(),function(){return e.errorHandler}(),"AWAppManager","closeActiveApp",[])},n}(r),m=function(e){function n(){e.apply(this,arguments)}return t(n,e),n.prototype.authenticate=function(e){var t=this;e=!!e,y.exec(function(){return t.successHandler}(),function(){return t.errorHandler}(),"AWAuth","authenticate",[e.toString()])},n.prototype.getAuthResponse=function(){var e=this;y.exec(function(){return e.successHandler}(),function(){return e.errorHandler}(),"AWAuth","authobject",[])},n.prototype.gateway=function(e,t){y.exec(e,t,"AWAuth","gateway",[])},n}(r),A=function(){function e(){}return e.noop=function(){},e}(),H=function(e){function n(t){e.call(this,A.noop,A.noop),this.options=t||{usePersistentStorage:!1},this.options.usePersistentStorage&&this.loadPersistentDataIntoLocalStorage()}return t(n,e),n.prototype.setItem=function(e,t){var n=window.localStorage.setItem(e,t);return this.options.usePersistentStorage&&this.writeLocalStorageDataToPersistentStorage(),n},n.prototype.getItem=function(e){var t=window.localStorage.getItem(e);return t},n.prototype.removeItem=function(e){var t=window.localStorage.removeItem(e);return this.options.usePersistentStorage&&this.writeLocalStorageDataToPersistentStorage(),t},n.prototype.clear=function(){var e=window.localStorage.clear();return this.options.usePersistentStorage&&this.writeLocalStorageDataToPersistentStorage(),e},n.prototype.readDataFromPersistentStorage=function(e,t){function n(e){e.root.getFile("appworksjs.cache.json",{create:!0,exclusive:!1},r,c)}function r(e){e.file(o,c)}function o(e){i(e)}function i(t){var n=new FileReader;n.onloadend=function(t){console.log(t),e(t.target.result)},n.readAsText(t)}var c=function(e){console.error(e.code)};"function"==typeof t&&(c=t),"function"!=typeof e&&(e=A.noop),y.requestFileSystem(y.localFileSystem().PERSISTENT,0,n,c)},n.prototype.writeLocalStorageDataToPersistentStorage=function(){var e,t,n,r={};for(e=0;e<window.localStorage.length;e+=1)t=window.localStorage.key(e),n=window.localStorage.getItem(t),r[t]=n;this.writeDataToPersistentStorage(JSON.stringify(r))},n.prototype.writeDataToPersistentStorage=function(e){function t(e){e.root.getFile("appworksjs.cache.json",{create:!0,exclusive:!1},n,o)}function n(e){e.createWriter(r,o)}function r(t){t.onwriteend=function(){console.info("cache data backed up successfully")},t.write(e)}function o(e){console.log(e.code)}y.requestFileSystem(y.localFileSystem().PERSISTENT,0,t,o)},n.prototype.loadPersistentDataIntoLocalStorage=function(){this.readDataFromPersistentStorage(function(e){var t;if(e){t=JSON.parse(e);for(var n in t)window.localStorage.setItem(n,t[n])}})},n}(r),w=function(e){function n(){e.apply(this,arguments)}return t(n,e),n.prototype.cleanup=function(e,t){return y.camera().cleanup(e,t)},n.prototype.getPicture=function(e,t,n){return y.camera().getPicture(e,t,n)},n.prototype.openGallery=function(e){var t=this;return e=e||{destinationType:Camera.DestinationType.FILE_URI},e.sourceType=Camera.PictureSourceType.PHOTOLIBRARY,this.getPicture(function(){return t.successHandler}(),function(){return t.errorHandler}(),e)},n.prototype.takePicture=function(e){var t=this;return e=e||{destinationType:Camera.DestinationType.FILE_URI,encodingType:Camera.EncodingType.JPEG,mediaType:Camera.MediaType.ALLMEDIA,correctOrientation:!0,saveToPhotoAlbum:!0},e.sourceType=Camera.PictureSourceType.CAMERA,this.getPicture(function(){return t.successHandler}(),function(){return t.errorHandler}(),e)},n}(r),W=function(e){function n(){e.apply(this,arguments)}return t(n,e),n.prototype.getCurrentHeading=function(){var e=this;return y.compass().getCurrentHeading(function(){return e.successHandler}(),function(){return e.errorHandler}())},n.prototype.watchHeading=function(e){var t=this;return y.compass().watchHeading(function(){return t.successHandler}(),function(){return t.errorHandler}(),e)},n.prototype.clearWatch=function(e){return y.compass().clearWatch(e)},n}(r),S=function(e){function n(){e.apply(this,arguments)}return t(n,e),n.prototype.open=function(e,t,n){y.exec(e,t,"AWComponent","open",n||[])},n.prototype.list=function(e,t,n){y.exec(e,t,"AWComponent","list",n||[])},n.prototype.check=function(e,t,n){y.exec(e,t,"AWComponent","check",n||[])},n.prototype.close=function(e,t,n){y.exec(e,t,"AWComponent","close",n||[])},n}(r),C=function(e){function n(){e.apply(this,arguments)}return t(n,e),n.prototype.create=function(e){return y.contacts().create(e)},n.prototype.find=function(e,t){var n=this;return y.contacts().find(e,function(){return n.successHandler}(),function(){return n.errorHandler}(),t)},n.prototype.pickContact=function(){var e=this;return y.contacts().pickContact(function(){return e.successHandler}(),function(){return e.errorHandler}())},n}(r),P=function(e){function n(){e.call(this,function(){},function(){}),this.cordova=y.device().cordova,this.model=y.device().model,this.platform=y.device().platform,this.uuid=y.device().uuid,this.version=y.device().version,this.manufacturer=y.device().manufacturer}return t(n,e),n}(r),b=function(e){function n(){e.apply(this,arguments)}return t(n,e),n.prototype.selectAndUpload=function(e){var t=this,n=[e];y.exec(function(){return t.successHandler}(),function(){return t.errorHandler}(),"AWFileChooser","open",n)},n}(r),T=function(e){function n(t,n){e.call(this,t,n),this.fileTransfer=new FileTransfer,this.onprogress=null}return t(n,e),n.prototype.abort=function(){this.fileTransfer.abort()},n.prototype.download=function(e,t,n,r){function o(r){(new FileTransfer).download(encodeURI(e),r+"/"+t,c,u,!1,n)}var i=this,c=this.successHandler,u=this.errorHandler;return n=n||{},r?cordova.exec(o,function(){return i.errorHandler}(),"AWSharedDocumentProvider","containerForCurrentApp",[]):this.fileTransfer.download(encodeURI(e),cordova.file.documentsDirectory+"/"+t,c,u,!1,n),this.fileTransfer},n.prototype.progressHandler=function(e){this.fileTransfer.onprogress=e},n.prototype.upload=function(e,t,n,r){function o(r){(new FileTransfer).upload(r+"/"+e,encodeURI(t),c,u,n,!1)}var i=this,c=this.successHandler,u=this.errorHandler;return n=n||{},r?cordova.exec(o,function(){return i.errorHandler}(),"AWSharedDocumentProvider","containerForCurrentApp",[]):this.fileTransfer.upload(cordova.file.documentsDirectory+"/"+e,encodeURI(t),c,u,n,!1),this.fileTransfer},n}(r),x=function(e){function n(){e.apply(this,arguments)}return t(n,e),n.prototype.open=function(e,t){var n=this,r=[e,t];y.exec(function(){return n.successHandler}(),function(){return n.errorHandler}(),"AWFinder","open",r)},n.prototype.openIn=function(e){return this.openDirect(e)},n.prototype.list=function(e){var t=this;y.exec(function(){return t.successHandler}(),function(){return t.errorHandler}(),"AWFinder","list",[e])},n.prototype.openDirect=function(e){var t=this;y.exec(function(){return t.successHandler}(),function(){return t.errorHandler}(),"AWFinder","openDirect",[e])},n}(r),E=function(e){function n(){e.apply(this,arguments)}return t(n,e),n.prototype.setHeader=function(e){var t=this;e&&e.callback?(this.callback=e.callback,e.callback=!0):this.callback=null,y.exec(function(){return t.callback}(),function(){return t.errorHandler}(),"AWHeaderBar","setHeader",[e])},n.prototype.getHeader=function(){var e=this;y.exec(function(){return e.successHandler}(),function(){return e.errorHandler}(),"AWHeaderBar","getHeader",[])},n}(r),N=(function(e){function n(){e.apply(this,arguments)}return t(n,e),n}(E),function(e){function n(){e.call(this,A.noop,A.noop)}return t(n,e),n.prototype.hideKeyboardAccessoryBar=function(e){var t=this;y.exec(function(){return t.successHandler}(),function(){return t.errorHandler}(),"AWKeyboard","hideKeyboardAccessoryBar",[e.toString()])},n.prototype.close=function(){var e=this;y.exec(function(){return e.successHandler}(),function(){return e.errorHandler}(),"AWKeyboard","close",[])},n.prototype.show=function(){var e=this;y.exec(function(){return e.successHandler}(),function(){return e.errorHandler}(),"AWKeyboard","show",[])},n.prototype.disableScroll=function(e){var t=this;e=!!e,y.exec(function(){return t.successHandler}(),function(){return t.errorHandler}(),"AWKeyboard","disableScroll",[e.toString()])},n}(r)),I=function(e){function n(){e.apply(this,arguments)}return t(n,e),n.prototype.getCurrentPosition=function(e){var t=this;return y.geolocation().getCurrentPosition(function(){return t.successHandler}(),function(){return t.errorHandler}(),e)},n.prototype.watchPosition=function(e){var t=this;return y.geolocation().watchPosition(function(){return t.successHandler}(),function(){return t.errorHandler}(),e)},n.prototype.clearWatch=function(e){y.geolocation().clearWatch(e)},n}(r),M=function(e){function n(t,n,r,o){e.call(this,n,r),this.media=y.media(t,n,r,o),this.src=t,this.position=this.media.position,this.duration=this.media.duration}return t(n,e),n.prototype.getCurrentPosition=function(e,t){return this.media.getCurrentPosition(e,t)},n.prototype.getDuration=function(){return this.media.getDuration()},n.prototype.pause=function(){return this.media.pause()},n.prototype.play=function(){return this.media.play()},n.prototype.release=function(){return this.media.release()},n.prototype.seekTo=function(e){return this.media.seekTo(e)},n.prototype.setVolume=function(e){return this.media.setVolume(e)},n.prototype.startRecord=function(){return this.media.startRecord()},n.prototype.stop=function(){return this.media.stop()},n.prototype.stopRecord=function(){return this.media.stopRecord()},n}(r),R=function(e){function n(t,n){e.call(this,t,n),this.supportedAudioModes=y.device().capture.supportedAudioModes,this.supportedImageModes=y.device().capture.supportedImageModes,this.supportedVideoModes=y.device().capture.supportedVideoModes}return t(n,e),n.prototype.captureAudio=function(e){var t=this;y.device().capture.captureAudio(function(){return t.successHandler}(),function(){return t.errorHandler}(),e)},n.prototype.captureImage=function(e){var t=this;y.device().capture.captureImage(function(){return t.successHandler}(),function(){return t.errorHandler}(),e)},n.prototype.captureVideo=function(e){var t=this;y.device().capture.captureVideo(function(){return t.successHandler}(),function(){return t.errorHandler}(),e)},n}(r),F=function(e){function n(){e.apply(this,arguments)}return t(n,e),n.prototype.push=function(e){var t=this,n=[e];y.exec(function(){return t.successHandler}(),function(){return t.errorHandler}(),"AWMenu","push",n)},n.prototype.openListener=function(e){var t=this;y.exec(e,function(){return t.errorHandler}(),"AWMenu","receive",[])},n.prototype.didTapMenuItem=function(e){return this.openListener(e)},n}(r),L=function(e){function n(){e.call(this,A.noop,A.noop)}return t(n,e),n.prototype.enablePushNotifications=function(e,t){y.exec(e,t,"AWNotificationManager","enablePushNotifications",[])},n.prototype.disablePushNotifications=function(){y.exec(null,null,"AWNotificationManager","disablePushNotifications",[])},n.prototype.getNotifications=function(e,t){y.exec(e,t,"AWNotificationManager","getPushNotifications",[])},n.prototype.getOpeningNotification=function(e,t){y.exec(e,t,"AWNotificationManager","getOpeningNotification",[])},n.prototype.notificationDidLaunchApp=function(e,t){this.getOpeningNotification(e,t)},n.prototype.openListener=function(e,t){y.exec(e,t,"AWNotificationManager","openListener",[])},n.prototype.didTapNotificationFromActivityView=function(e,t){this.openListener(e,t)},n.prototype.alert=function(e,t,n,r){y.notification().alert(e,t,n,r)},n.prototype.beep=function(e){y.notification().beep(e)},n.prototype.confirm=function(e,t,n,r){y.notification().confirm(e,t,n,r)},n.prototype.prompt=function(e,t,n,r,o){y.notification().prompt(e,t,n,r,o)},n}(r),D=function(e){function n(t){e.call(this,A.noop,A.noop);var n,r=this;this.cacheKey="__appworksjs.deferredQueue",this.cache=new H,this.options=t||{preserveEvents:!1},document.addEventListener("online",function(){r.processDeferredQueue()}),n=this.cache.getItem(this.cacheKey),n?this.queue=JSON.parse(n):(this.queue=[],this.saveQueue()),this.networkStatus().online&&this.processDeferredQueue()}return t(n,e),n.prototype.defer=function(e,t){return this.queue.push({event:e,args:JSON.stringify(t)}),this.saveQueue(),this.queue.length-1},n.prototype.cancel=function(e){e>-1&&(this.queue.splice(e,1),this.saveQueue())},n.prototype.networkStatus=function(){return{online:y.connection().type!==y.Connection().NONE,offline:y.connection().type===y.Connection().NONE,connection:y.connection()}},n.prototype.saveQueue=function(){this.cache.setItem(this.cacheKey,JSON.stringify(this.queue))},n.prototype.processDeferredQueue=function(){var e=this;console.info("appworks.js: processing deferred queue"),setTimeout(function(){e.queue.forEach(function(t){e.dispatchEvent(t)}),e.options.preserveEvents||(e.queue=[],e.saveQueue())},5e3)},n.prototype.dispatchEvent=function(e){var t=new CustomEvent(e.event,{detail:e.args});document.dispatchEvent(t)},n}(r),k=function(e){function n(){e.apply(this,arguments)}return t(n,e),n.prototype.setPageUrl=function(e){var t=this;y.exec(function(){return t.successHandler}(),function(){return t.errorHandler}(),"AWPage","setPageUrl",[e])},n}(r),O=function(e){function n(){e.apply(this,arguments)}return t(n,e),n.prototype.scan=function(){var e=this;y.exec(function(){return e.successHandler}(),function(){return e.errorHandler}(),"AWQRCodeReader","scan",[])},n.prototype.rename=function(){var e=this;y.exec(function(){return e.successHandler}(),function(){return e.errorHandler}(),"AWQRCodeReader","rename",[])},n}(r),_=function(e){function n(){e.apply(this,arguments)}return t(n,e),n}(O),q=function(e){function n(t,r){e.call(this,t,r),this.seqNo=++n.idCounter,this.onprogress=null}return t(n,e),n.prototype.store=function(e,t,n){function r(e){var t=new ProgressEvent(null);return t.lengthComputable=e.lengthComputable,t.loaded=e.loaded,t.total=e.total,t}var o,i=this,c=[encodeURI(e),t,!1,this.seqNo,n&&n.headers],u=function(){return i.successHandler},a=this.onprogress;o=function(e){"undefined"!=typeof e.lengthComputable?a&&a(r(e)):u&&u()(e)},y.exec(o,function(){return i.errorHandler}(),"AWSecureStorage","store",c)},n.prototype.retrieve=function(e,t){var n=this,r=[e,t];y.exec(function(){return n.successHandler}(),function(){return n.errorHandler}(),"AWSecureStorage","retrieve",r)},n.prototype.remove=function(e){var t=this,n=[e];y.exec(function(){return t.successHandler}(),function(){return t.errorHandler}(),"AWSecureStorage","removeFile",n)},n.prototype.fileExistsAtPath=function(e){var t=this,n=[e];y.exec(function(){return t.successHandler}(),function(){return t.errorHandler}(),"AWSecureStorage","fileExistsAtPath",n)},n.idCounter=0,n}(r),V=function(e){function n(){e.apply(this,arguments)}return t(n,e),n}(q),Q=function(e){function n(){e.call(this,A.noop,A.noop)}return t(n,e),n.prototype.vibrate=function(e){return y.vibrate(e)},n}(r),K=function(e){function n(){e.call(this,A.noop,A.noop)}return t(n,e),n.prototype.open=function(e,t,n){return y.webview().open(e,t,n)},n}(r),U=g,j=g,B=v,J=v,G=m,Y=m,z=H,X=H,Z=w,$=w,ee=W,te=W,ne=S,re=S,oe=C,ie=C,ce=P,ue=P,ae=b,se=b,pe=T,fe=T,le=x,de=x,he=E,ye=E,ge=E,ve=E,me=N,Ae=N,He=I,we=I,We=M,Se=M,Ce=R,Pe=R,be=F,Te=F,xe=F,Ee=F,Ne=L,Ie=L,Me=D,Re=D,Fe=k,Le=k,De=_,ke=_,Oe=V,_e=V,qe=Q,Ve=Q,Qe=K,Ke=K,Ue=K,je=K;e.Accelerometer=U,e.AWAccelerometer=j,e.AppManager=B,e.AWAppManager=J,e.Auth=G,e.AWAuth=Y,e.Cache=z,e.AWCache=X,e.Camera=Z,e.AWCamera=$,e.Compass=ee,e.AWCompass=te,e.Component=ne,e.AWComponent=re,e.Contacts=oe,e.AWContacts=ie,e.Device=ce,e.AWDevice=ue,e.FileChooser=ae,e.AWFileChooser=se,e.FileTransfer=pe,e.AWFileTransfer=fe,e.Finder=le,e.AWFinder=de,e.HeaderBar=he,e.Header=ye,e.AWHeader=ge,e.AWHeaderBar=ve,e.Keyboard=me,e.AWKeyboard=Ae,e.Location=He,e.AWLocation=we,e.Media=We,e.AWMedia=Se,e.MediaCapture=Ce,e.AWMediaCapture=Pe,e.Menu=be,e.AWMenu=Te,e.AWHamburgerMenu=xe,e.HamburgerMenu=Ee,e.NotificationManager=Ne,e.AWNotificationManager=Ie,e.OfflineManager=Me,e.AWOfflineManager=Re,e.Page=Fe,e.AWPage=Le,e.QRReader=De,e.AWQRReader=ke,e.SecureStorage=Oe,e.AWSecureStorage=_e,e.Vibration=qe,e.AWVibration=Ve,e.WebView=Qe,e.AWWebView=Ke,e.Webview=Ue,e.AWWebview=je}(this.Appworks=this.Appworks||{});
//# sourceMappingURL=appworks.min.js.map
