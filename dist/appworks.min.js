!function(t){"use strict";function e(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function n(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}var r,o=function(){function t(t,e){this.successHandler=t,this.errorHandler=e}return t}(),i=function(){function t(){this.fieldType={}}return t.prototype.create=function(t){return null},t.prototype.find=function(t,e,n,r){},t.prototype.pickContact=function(t,e){},t}(),u=(function(){function t(){}t.prototype.getCurrentAcceleration=function(t,e,n){return null},t.prototype.watchAcceleration=function(t,e,n){return null},t.prototype.clearWatch=function(t){},t}(),function(){function t(){}return t.prototype.cleanup=function(t,e){},t.prototype.getPicture=function(t,e,n){},t}()),c=function(){function t(){}return t.prototype.getCurrentHeading=function(t,e,n){},t.prototype.watchHeading=function(t,e,n){return null},t.prototype.clearWatch=function(t){},t}(),s=function(){function t(){}return t.prototype.clearWatch=function(t){},t.prototype.getCurrentPosition=function(t,e,n){},t.prototype.watchPosition=function(t,e,n){return null},t}(),a=function(){function t(t,e,n,r){}return t.prototype.getCurrentPosition=function(t,e){},t.prototype.getDuration=function(){return null},t.prototype.play=function(t){},t.prototype.pause=function(){},t.prototype.release=function(){},t.prototype.seekTo=function(t){},t.prototype.setVolume=function(t){},t.prototype.startRecord=function(){},t.prototype.stopRecord=function(){},t.prototype.stop=function(){},t}(),l=function(){function t(){}return t.prototype.captureAudio=function(t,e,n){},t.prototype.captureImage=function(t,e,n){},t.prototype.captureVideo=function(t,e,n){},t}(),f=function(){function t(){this.body=null,this.dir=null,this.icon=null,this.lang=null,this.onclick=null,this.onclose=null,this.onerror=null,this.onshow=null,this.permission=null,this.title=null,this.tag=null,this.close=null,this.addEventListener=function(t){},this.removeEventListener=function(t){},this.dispatchEvent=function(t){}}return t.prototype.alert=function(t,e,n,r){},t.prototype.beep=function(t){},t.prototype.confirm=function(t,e,n,r){},t.prototype.prompt=function(t,e,n,r,o){},t.prototype.vibrate=function(){},t.prototype.vibrateWithPattern=function(){},t.prototype.cancelVibration=function(){},t}(),p=function(){function t(){}return t.prototype.addEventListener=function(t,e,n){},t.prototype.removeEventListener=function(t,e,n){},t}(),d=function(){function t(){}return t.prototype.vibrate=function(t){},t}(),h=function(){function t(){}return t.prototype.open=function(t,e,n){return null},t}();!function(t){t[t.PERSISTENT=0]="PERSISTENT",t[t.TEMPORARY=1]="TEMPORARY"}(r||(r={}));var y=function(){function t(){}return t.prototype.upload=function(t,e,n,r,o,i){},t.prototype.download=function(t,e,n,r,o,i){},t.prototype.abort=function(){},t}(),v=function(){function t(){}return t.noop=function(){},t}(),g=function(){function t(t){this.length=isNaN(t)?0:t}return t.prototype.getItem=function(t){return null},t.prototype.setItem=function(t,e){},t.prototype.removeItem=function(t){},t.prototype.clear=function(){},t.prototype.key=function(t){return null},t}(),m=function(){function t(){this.storage="undefined"!=typeof window?window.localStorage:new g}return Object.defineProperty(t.prototype,"length",{get:function(){return this.storage?this.storage.length:-1},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.storage.clear()},t.prototype.getItem=function(t){return this.storage.getItem(t)},t.prototype.key=function(t){return this.storage.key(t)},t.prototype.removeItem=function(t){return this.storage.removeItem(t)},t.prototype.setItem=function(t,e){return this.storage.setItem(t,e)},t}(),A="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},w=function(t,e){return e={exports:{}},t(e,e.exports),e.exports}(function(t,e){!function(e,n){t.exports=function(){function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function r(t){q=t}function o(t){K=t}function i(){return void 0!==B?function(){B(c)}:u()}function u(){var t=setTimeout;return function(){return t(c,1)}}function c(){for(var t=0;t<V;t+=2){(0,X[t])(X[t+1]),X[t]=void 0,X[t+1]=void 0}V=0}function s(t,e){var n=arguments,r=this,o=new this.constructor(l);void 0===o[$]&&T(o);var i=r._state;return i?function(){var t=n[i-1];K(function(){return P(i,o,t,r._result)})}():S(r,o,t,e),o}function a(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(l);return m(n,t),n}function l(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function d(t){try{return t.then}catch(t){return rt.error=t,rt}}function h(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function y(t,e,n){K(function(t){var r=!1,o=h(n,e,function(n){r||(r=!0,e!==n?m(t,n):_(t,n))},function(e){r||(r=!0,b(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,b(t,o))},t)}function v(t,e){e._state===et?_(t,e._result):e._state===nt?b(t,e._result):S(e,void 0,function(e){return m(t,e)},function(e){return b(t,e)})}function g(t,n,r){n.constructor===t.constructor&&r===s&&n.constructor.resolve===a?v(t,n):r===rt?b(t,rt.error):void 0===r?_(t,n):e(r)?y(t,n,r):_(t,n)}function m(e,n){e===n?b(e,f()):t(n)?g(e,n,d(n)):_(e,n)}function w(t){t._onerror&&t._onerror(t._result),W(t)}function _(t,e){t._state===tt&&(t._result=e,t._state=et,0!==t._subscribers.length&&K(W,t))}function b(t,e){t._state===tt&&(t._state=nt,t._result=e,K(w,t))}function S(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+et]=n,o[i+nt]=r,0===i&&t._state&&K(W,t)}function W(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,u=0;u<e.length;u+=3)r=e[u],o=e[u+n],r?P(n,r,o,i):o(i);t._subscribers.length=0}}function H(){this.error=null}function E(t,e){try{return t(e)}catch(t){return ot.error=t,ot}}function P(t,n,r,o){var i=e(r),u=void 0,c=void 0,s=void 0,a=void 0;if(i){if(u=E(r,o),u===ot?(a=!0,c=u.error,u=null):s=!0,n===u)return void b(n,p())}else u=o,s=!0;n._state!==tt||(i&&s?m(n,u):a?b(n,c):t===et?_(n,u):t===nt&&b(n,u))}function C(t,e){try{e(function(e){m(t,e)},function(e){b(t,e)})}catch(e){b(t,e)}}function x(){return it++}function T(t){t[$]=it++,t._state=void 0,t._result=void 0,t._subscribers=[]}function M(t,e){this._instanceConstructor=t,this.promise=new t(l),this.promise[$]||T(this.promise),U(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?_(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&_(this.promise,this._result))):b(this.promise,D())}function D(){return new Error("Array Methods must be provided an Array")}function N(t){return new M(this,t).promise}function F(t){var e=this;return new e(U(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function I(t){var e=this,n=new e(l);return b(n,t),n}function k(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function O(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function R(t){this[$]=x(),this._result=this._state=void 0,this._subscribers=[],l!==t&&("function"!=typeof t&&k(),this instanceof R?C(this,t):O())}function L(){var t=void 0;if(void 0!==A)t=A;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=R}var j=void 0;j=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var U=j,V=0,B=void 0,q=void 0,K=function(t,e){X[V]=t,X[V+1]=e,2===(V+=2)&&(q?q(c):Z())},G="undefined"!=typeof window?window:void 0,Q=G||{},Y=Q.MutationObserver||Q.WebKitMutationObserver,J="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,X=new Array(1e3),Z=void 0;Z=J?function(){return function(){return process.nextTick(c)}}():Y?function(){var t=0,e=new Y(c),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():z?function(){var t=new MessageChannel;return t.port1.onmessage=c,function(){return t.port2.postMessage(0)}}():void 0===G&&"function"==typeof n?function(){try{var t=n,e=t("vertx");return B=e.runOnLoop||e.runOnContext,i()}catch(t){return u()}}():u();var $=Math.random().toString(36).substring(16),tt=void 0,et=1,nt=2,rt=new H,ot=new H,it=0;return M.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===tt&&n<t;n++)this._eachEntry(e[n],n)},M.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===a){var o=d(t);if(o===s&&t._state!==tt)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===R){var i=new n(l);g(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},M.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===tt&&(this._remaining--,t===nt?b(r,n):this._result[e]=n),0===this._remaining&&_(r,this._result)},M.prototype._willSettleAt=function(t,e){var n=this;S(t,void 0,function(t){return n._settledAt(et,e,t)},function(t){return n._settledAt(nt,e,t)})},R.all=N,R.race=F,R.resolve=a,R.reject=I,R._setScheduler=r,R._setAsap=o,R._asap=K,R.prototype={constructor:R,then:s,catch:function(t){return this.then(null,t)}},R.polyfill=L,R.Promise=R,R}()}(A,function(){function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function r(t){q=t}function o(t){K=t}function i(){return void 0!==B?function(){B(c)}:u()}function u(){var t=setTimeout;return function(){return t(c,1)}}function c(){for(var t=0;t<V;t+=2){(0,X[t])(X[t+1]),X[t]=void 0,X[t+1]=void 0}V=0}function s(t,e){var n=arguments,r=this,o=new this.constructor(l);void 0===o[$]&&T(o);var i=r._state;return i?function(){var t=n[i-1];K(function(){return P(i,o,t,r._result)})}():S(r,o,t,e),o}function a(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(l);return m(n,t),n}function l(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function d(t){try{return t.then}catch(t){return rt.error=t,rt}}function h(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function y(t,e,n){K(function(t){var r=!1,o=h(n,e,function(n){r||(r=!0,e!==n?m(t,n):_(t,n))},function(e){r||(r=!0,b(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,b(t,o))},t)}function v(t,e){e._state===et?_(t,e._result):e._state===nt?b(t,e._result):S(e,void 0,function(e){return m(t,e)},function(e){return b(t,e)})}function g(t,n,r){n.constructor===t.constructor&&r===s&&n.constructor.resolve===a?v(t,n):r===rt?b(t,rt.error):void 0===r?_(t,n):e(r)?y(t,n,r):_(t,n)}function m(e,n){e===n?b(e,f()):t(n)?g(e,n,d(n)):_(e,n)}function w(t){t._onerror&&t._onerror(t._result),W(t)}function _(t,e){t._state===tt&&(t._result=e,t._state=et,0!==t._subscribers.length&&K(W,t))}function b(t,e){t._state===tt&&(t._state=nt,t._result=e,K(w,t))}function S(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+et]=n,o[i+nt]=r,0===i&&t._state&&K(W,t)}function W(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,u=0;u<e.length;u+=3)r=e[u],o=e[u+n],r?P(n,r,o,i):o(i);t._subscribers.length=0}}function H(){this.error=null}function E(t,e){try{return t(e)}catch(t){return ot.error=t,ot}}function P(t,n,r,o){var i=e(r),u=void 0,c=void 0,s=void 0,a=void 0;if(i){if(u=E(r,o),u===ot?(a=!0,c=u.error,u=null):s=!0,n===u)return void b(n,p())}else u=o,s=!0;n._state!==tt||(i&&s?m(n,u):a?b(n,c):t===et?_(n,u):t===nt&&b(n,u))}function C(t,e){try{e(function(e){m(t,e)},function(e){b(t,e)})}catch(e){b(t,e)}}function x(){return it++}function T(t){t[$]=it++,t._state=void 0,t._result=void 0,t._subscribers=[]}function M(t,e){this._instanceConstructor=t,this.promise=new t(l),this.promise[$]||T(this.promise),U(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?_(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&_(this.promise,this._result))):b(this.promise,D())}function D(){return new Error("Array Methods must be provided an Array")}function N(t){return new M(this,t).promise}function F(t){var e=this;return new e(U(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function I(t){var e=this,n=new e(l);return b(n,t),n}function k(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function O(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function R(t){this[$]=x(),this._result=this._state=void 0,this._subscribers=[],l!==t&&("function"!=typeof t&&k(),this instanceof R?C(this,t):O())}function L(){var t=void 0;if(void 0!==A)t=A;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=R}var j=void 0;j=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var U=j,V=0,B=void 0,q=void 0,K=function(t,e){X[V]=t,X[V+1]=e,2===(V+=2)&&(q?q(c):Z())},G="undefined"!=typeof window?window:void 0,Q=G||{},Y=Q.MutationObserver||Q.WebKitMutationObserver,J="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,X=new Array(1e3),Z=void 0;Z=J?function(){return function(){return process.nextTick(c)}}():Y?function(){var t=0,e=new Y(c),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():z?function(){var t=new MessageChannel;return t.port1.onmessage=c,function(){return t.port2.postMessage(0)}}():void 0===G&&"function"==typeof n?function(){try{var t=n,e=t("vertx");return B=e.runOnLoop||e.runOnContext,i()}catch(t){return u()}}():u();var $=Math.random().toString(36).substring(16),tt=void 0,et=1,nt=2,rt=new H,ot=new H,it=0;return M.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===tt&&n<t;n++)this._eachEntry(e[n],n)},M.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===a){var o=d(t);if(o===s&&t._state!==tt)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===R){var i=new n(l);g(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},M.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===tt&&(this._remaining--,t===nt?b(r,n):this._result[e]=n),0===this._remaining&&_(r,this._result)},M.prototype._willSettleAt=function(t,e){var n=this;S(t,void 0,function(t){return n._settledAt(et,e,t)},function(t){return n._settledAt(nt,e,t)})},R.all=N,R.race=F,R.resolve=a,R.reject=I,R._setScheduler=r,R._setAsap=o,R._asap=K,R.prototype={constructor:R,then:s,catch:function(t){return this.then(null,t)}},R.polyfill=L,R.Promise=R,R})}),_=w.Promise,b=function(){function t(){}return t.prototype.persistLocalStorage=function(){var t,e,n,r=this,o={},i=H.storage();for(t=0;t<i.length;t+=1)e=i.key(t),n=i.getItem(e),o[e]=n;return new _(function(t,e){r.writeDataToPersistentStorage(JSON.stringify(o)).then(t,e)})},t.prototype.loadPersistentData=function(){var t=this;return new _(function(e,n){t.readDataFromPersistentStorage().then(function(t){var n;if(t){n=JSON.parse(t);for(var r in n)n.hasOwnProperty(r)&&H.storage().setItem(r,n[r]);e()}},n)})},t.prototype.readDataFromPersistentStorage=function(){return new _(function(t,e){function n(t){t.root.getFile("appworksjs.cache.json",{create:!0,exclusive:!1},r,e)}function r(t){t.file(o,e)}function o(t){i(t)}function i(e){var n=new FileReader;n.onloadend=function(e){console.log(e),t(e.target.result)},n.readAsText(e)}H.requestFileSystem(H.localFileSystem().PERSISTENT,0,n,e)})},t.prototype.writeDataToPersistentStorage=function(t){return new _(function(e,n){function r(t){t.root.getFile("appworksjs.cache.json",{create:!0,exclusive:!1},o,n)}function o(t){t.createWriter(i,n)}function i(n){n.onwriteend=function(){console.info("cache data backed up successfully")},n.write(t),e()}H.requestFileSystem(H.localFileSystem().PERSISTENT,0,r,n)})},t}(),S=function(){function t(){}return t.prototype.persistLocalStorage=function(){return _.resolve()},t.prototype.loadPersistentData=function(){return _.resolve()},t}(),W=function(){function t(t){this.desktopStorage=t}return t.prototype.persistLocalStorage=function(){var e=this;return null===this.desktopStorage?_.reject(t.PLUGIN_NOT_FOUND):new _(function(t,n){var r,o,i,u=[],c=H.storage();for(r=0;r<c.length;r+=1)o=c.key(r),i=c.getItem(o),u.push({key:o,value:i});var s=function(t){return e.desktopStorage.setItem(t.key,t.value)};_.all(u.map(s)).then(t,n)})},t.prototype.loadPersistentData=function(){var e=this;return null===this.desktopStorage?_.reject(t.PLUGIN_NOT_FOUND):new _(function(t,n){try{var r=e.desktopStorage.getData(),o=H.storage();for(var i in r)r.hasOwnProperty(i)&&o.setItem(i,r[i]);t()}catch(t){n(t)}})},t}();W.PLUGIN_NOT_FOUND=new Error("Unable to resolve AWStorage desktop plugin");var H=function(){function t(){}return t.exec=function(e,n,r,o,i){"undefined"!=typeof cordova?cordova.exec(e,n,r,o,i):t.isDesktopEnv()?__aw_plugin_proxy.exec(e,n,r,o,i):(console.error("No proxy objects defined - tried [Cordova, __aw_plugin_proxy]"),"function"==typeof n&&n("No proxy objects defined - tried [Cordova, __aw_plugin_proxy]"))},t.accelerometer=function(){return navigator.accelerometer},t.camera=function(){return"undefined"!=typeof navigator?navigator.camera:new u},t.Camera=function(){return"undefined"!=typeof Camera?Camera:{DestinationType:{DATA_URL:null,FILE_URI:null,NATIVE_URI:null},Direction:{BACK:null,FRONT:null},EncodingType:{JPEG:null,PNG:null},MediaType:{PICTURE:null,VIDEO:null,ALLMEDIA:null},PictureSourceType:{PHOTOLIBRARY:null,CAMERA:null,SAVEDPHOTOALBUM:null},PopoverArrowDirection:{ARROW_UP:null,ARROW_DOWN:null,ARROW_LEFT:null,ARROW_RIGHT:null,ARROW_ANY:null}}},t.compass=function(){return"undefined"!=typeof navigator?navigator.compass:new c},t.connection=function(){return"undefined"!=typeof navigator?navigator.connection:new p},t.Connection=function(){return"undefined"!=typeof Connection?Connection:{UNKNOWN:null,ETHERNET:null,WIFI:null,CELL_2G:null,CELL_3G:null,CELL_4G:null,CELL:null,NONE:null}},t.contacts=function(){return"undefined"!=typeof navigator?navigator.contacts:new i},t.device=function(){var t="undefined"!=typeof device?device:{cordova:null,available:!0,model:null,platform:null,uuid:null,version:null,manufacturer:null,isVirtual:null,serial:null,capture:null};return"undefined"!=typeof navigator&&navigator.device&&navigator.device.capture?t.capture=navigator.device.capture:t.capture=new l,t},t.document=function(){return"undefined"!=typeof document?document:{addEventListener:v.noop}},t.file=function(){return"undefined"!=typeof cordova?cordova.file:{documentsDirectory:""}},t.filetransfer=function(){return t.doGetFileTransfer()},t.fileTransfer=function(){return t.doGetFileTransfer()},t.doGetFileTransfer=function(){if(t.isDesktopEnv()){var e=t.getDesktopPlugin("AWFileTransfer");return null!==e?e:new y}return"undefined"!=typeof FileTransfer?new FileTransfer:new y},t.geolocation=function(){return"undefined"!=typeof navigator?navigator.geolocation:new s},t.localFileSystem=function(){return r},t.media=function(t,e,n,r){return"undefined"!=typeof Media?new Media(t,e,n,r):new a(t,e,n,r)},t.notification=function(){return"undefined"!=typeof navigator?navigator.notification:new f},t.requestFileSystem=function(t,e,n,r){if(window.requestFileSystem)return window.requestFileSystem(t,e,n,r)},t.vibrate=function(t){return"undefined"!=typeof navigator&&navigator.vibrate?navigator.vibrate(t):(new d).vibrate(t)},t.webview=function(){return"undefined"!=typeof cordova?cordova.InAppBrowser:new h},t.storage=function(){return new m},t.persistentStorage=function(){var e=t.getDesktopPlugin("AWStorage");return null!==e?new W(e):t.isMobileEnv()?new b:new S},t.isDesktopEnv=function(){return"undefined"!=typeof __aw_plugin_proxy},t.isMobileEnv=function(){return"undefined"!=typeof cordova},t.getDesktopPlugin=function(e){return t.isDesktopEnv()?__aw_plugin_proxy.getPlugin(e):null},t}(),E=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.getCurrentAcceleration=function(){var t=this;return H.accelerometer().getCurrentAcceleration(function(){return t.successHandler}(),function(){return t.errorHandler}())},n.prototype.watchAcceleration=function(t){var e=this;return H.accelerometer().watchAcceleration(function(){return e.successHandler}(),function(){return e.errorHandler}(),t)},n.prototype.clearWatch=function(t){return H.accelerometer().clearWatch(t)},n}(o),P=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.closeActiveApp=function(){var t=this;H.exec(function(){return t.successHandler}(),function(){return t.errorHandler}(),"AWAppManager","closeActiveApp",[])},n}(o),C=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.authenticate=function(t){var e=this;t=!!t,H.exec(function(){return e.successHandler}(),function(){return e.errorHandler}(),"AWAuth","authenticate",[t.toString()])},n.prototype.getAuthResponse=function(){var t=this;H.exec(function(){return t.successHandler}(),function(){return t.errorHandler}(),"AWAuth","authobject",[])},n.prototype.gateway=function(t,e){H.exec(t,e,"AWAuth","gateway",[])},n.prototype.online=function(t,e){H.exec(t,e,"AWAuth","online",[])},n}(o),x=function(t){function n(e){var n=t.call(this,v.noop,v.noop)||this;return n.options=e||{usePersistentStorage:!1},n.preloadCache(),n}return e(n,t),n.prototype.setItem=function(t,e){var n=this;return new _(function(r,o){H.storage().setItem(t,e),n.usePersistentStorage()?H.persistentStorage().persistLocalStorage().then(r,o):r()})},n.prototype.getItem=function(t){return H.storage().getItem(t)},n.prototype.removeItem=function(t){var e=this;return new _(function(n,r){H.storage().removeItem(t),e.usePersistentStorage()?H.persistentStorage().persistLocalStorage().then(n,r):n()})},n.prototype.clear=function(){var t=this;return new _(function(e,n){H.storage().clear(),t.usePersistentStorage()?H.persistentStorage().persistLocalStorage().then(e,n):e()})},n.prototype.preloadCache=function(){this.usePersistentStorage()&&H.persistentStorage().loadPersistentData().then(function(){return console.log("AWCache: Successfully loaded persistent data into local storage")},function(t){return console.error("AWCache: Failed to load persistent data into local storage - "+t.toString())})},n.prototype.usePersistentStorage=function(){return this.options.usePersistentStorage},n}(o),T=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.cleanup=function(t,e){return H.camera().cleanup(t,e)},n.prototype.getPicture=function(t,e,n){return H.camera().getPicture(t,e,n)},n.prototype.openGallery=function(t){var e=this;return t=t||{destinationType:H.Camera().DestinationType.FILE_URI},t.sourceType=H.Camera().PictureSourceType.PHOTOLIBRARY,this.getPicture(function(){return e.successHandler}(),function(){return e.errorHandler}(),t)},n.prototype.takePicture=function(t){var e=this;return t=t||{destinationType:H.Camera().DestinationType.FILE_URI,encodingType:H.Camera().EncodingType.JPEG,mediaType:H.Camera().MediaType.ALLMEDIA,correctOrientation:!0,saveToPhotoAlbum:!0},t.sourceType=H.Camera().PictureSourceType.CAMERA,this.getPicture(function(){return e.successHandler}(),function(){return e.errorHandler}(),t)},n}(o),M=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.getCurrentHeading=function(){var t=this;return H.compass().getCurrentHeading(function(){return t.successHandler}(),function(){return t.errorHandler}())},n.prototype.watchHeading=function(t){var e=this;return H.compass().watchHeading(function(){return e.successHandler}(),function(){return e.errorHandler}(),t)},n.prototype.clearWatch=function(t){return H.compass().clearWatch(t)},n}(o),D=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.open=function(t,e,n){H.exec(t,e,"AWComponent","open",n||[])},n.prototype.list=function(t,e,n){H.exec(t,e,"AWComponent","list",n||[])},n.prototype.check=function(t,e,n){H.exec(t,e,"AWComponent","check",n||[])},n.prototype.close=function(t,e,n){H.exec(t,e,"AWComponent","close",n||[])},n}(o),N=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.create=function(t){return H.contacts().create(t)},n.prototype.find=function(t,e){var n=this;return H.contacts().find(t,function(){return n.successHandler}(),function(){return n.errorHandler}(),e)},n.prototype.pickContact=function(){var t=this;return H.contacts().pickContact(function(){return t.successHandler}(),function(){return t.errorHandler}())},n}(o),F=function(t){function n(){var e=t.call(this,function(){},function(){})||this;return e.cordova=H.device().cordova,e.model=H.device().model,e.platform=H.device().platform,e.uuid=H.device().uuid,e.version=H.device().version,e.manufacturer=H.device().manufacturer,e.capture=H.device().capture,e}return e(n,t),n}(o),I=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.selectAndUpload=function(t){var e=this,n=[t];H.exec(function(){return e.successHandler}(),function(){return e.errorHandler}(),"AWFileChooser","open",n)},n}(o),k=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.fileTransfer=H.filetransfer(),r.onprogress=null,r}return e(n,t),n.prototype.abort=function(){this.fileTransfer.abort()},n.prototype.download=function(t,e,n,r){function o(r){H.filetransfer().download(encodeURI(t),r+"/"+e,u,c,!1,n)}var i=this,u=this.successHandler,c=this.errorHandler;return n=n||{},r?H.exec(o,function(){return i.errorHandler}(),"AWSharedDocumentProvider","containerForCurrentApp",[]):this.fileTransfer.download(encodeURI(t),H.file().documentsDirectory+"/"+e,u,c,!1,n),this.fileTransfer},n.prototype.progressHandler=function(t){this.fileTransfer.onprogress=t},n.prototype.upload=function(t,e,n,r){function o(r){H.filetransfer().upload(r+"/"+t,encodeURI(e),u,c,n,!1)}var i=this,u=this.successHandler,c=this.errorHandler;return n=n||{},r?H.exec(o,function(){return i.errorHandler}(),"AWSharedDocumentProvider","containerForCurrentApp",[]):this.fileTransfer.upload(H.file().documentsDirectory+"/"+t,encodeURI(e),u,c,n,!1),this.fileTransfer},n}(o),O=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.open=function(t,e){var n=this,r=[t,e];H.exec(function(){return n.successHandler}(),function(){return n.errorHandler}(),"AWFinder","open",r)},n.prototype.openIn=function(t){return this.openDirect(t)},n.prototype.list=function(t){var e=this;H.exec(function(){return e.successHandler}(),function(){return e.errorHandler}(),"AWFinder","list",[t])},n.prototype.openDirect=function(t){var e=this;H.exec(function(){return e.successHandler}(),function(){return e.errorHandler}(),"AWFinder","openDirect",[t])},n}(o),R=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.ButtonName={LeftOne:0,LeftTwo:1,RightOne:2,RightTwo:3},e.ButtonImage={Hamburger:0,Back:1,Settings:2,Appmenu:3,None:5,Dots:6,Search:7},e}return e(n,t),n.prototype.setHeader=function(t){var e=this;t&&t.callback?(this.callback=t.callback,t.callback=!0):this.callback=null,H.exec(function(){return e.callback}(),function(){return e.errorHandler}(),"AWHeaderBar","setHeader",[t])},n.prototype.getHeader=function(){var t=this;H.exec(function(){return t.successHandler}(),function(){return t.errorHandler}(),"AWHeaderBar","getHeader",[])},n.prototype.setHeaderButtons=function(t,e){var n=this;H.exec(t,function(){return n.errorHandler}(),"AWHeaderBar","setHeaderButtons",[e])},n.prototype.maskHeader=function(t){var e=this;cordova.exec(function(){return e.successHandler}(),function(){return e.errorHandler}(),"AWHeaderBar","maskHeader",[t])},n}(o),L=(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}e(n,t),n}(R),function(t){function n(){return t.call(this,v.noop,v.noop)||this}return e(n,t),n.prototype.hideKeyboardAccessoryBar=function(t){var e=this;H.exec(function(){return e.successHandler}(),function(){return e.errorHandler}(),"AWKeyboard","hideKeyboardAccessoryBar",[t.toString()])},n.prototype.close=function(){var t=this;H.exec(function(){return t.successHandler}(),function(){return t.errorHandler}(),"AWKeyboard","close",[])},n.prototype.show=function(){var t=this;H.exec(function(){return t.successHandler}(),function(){return t.errorHandler}(),"AWKeyboard","show",[])},n.prototype.disableScroll=function(t){var e=this;t=!!t,H.exec(function(){return e.successHandler}(),function(){return e.errorHandler}(),"AWKeyboard","disableScroll",[t.toString()])},n}(o)),j=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.getCurrentPosition=function(t){var e=this;return H.geolocation().getCurrentPosition(function(){return e.successHandler}(),function(){return e.errorHandler}(),t)},n.prototype.watchPosition=function(t){var e=this;return H.geolocation().watchPosition(function(){return e.successHandler}(),function(){return e.errorHandler}(),t)},n.prototype.clearWatch=function(t){H.geolocation().clearWatch(t)},n}(o),U=function(t){function n(e,n,r,o){var i=t.call(this,n,r)||this;return i.media=H.media(e,n,r,o),i.src=e,i.position=i.media.position,i.duration=i.media.duration,i}return e(n,t),n.prototype.getCurrentPosition=function(t,e){return this.media.getCurrentPosition(t,e)},n.prototype.getDuration=function(){return this.media.getDuration()},n.prototype.pause=function(){return this.media.pause()},n.prototype.play=function(){return this.media.play()},n.prototype.release=function(){return this.media.release()},n.prototype.seekTo=function(t){return this.media.seekTo(t)},n.prototype.setVolume=function(t){return this.media.setVolume(t)},n.prototype.startRecord=function(){return this.media.startRecord()},n.prototype.stop=function(){return this.media.stop()},n.prototype.stopRecord=function(){return this.media.stopRecord()},n}(o),V=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.supportedAudioModes=H.device().capture.supportedAudioModes,r.supportedImageModes=H.device().capture.supportedImageModes,r.supportedVideoModes=H.device().capture.supportedVideoModes,r}return e(n,t),n.prototype.captureAudio=function(t){var e=this;H.device().capture.captureAudio(function(){return e.successHandler}(),function(){return e.errorHandler}(),t)},n.prototype.captureImage=function(t){
var e=this;H.device().capture.captureImage(function(){return e.successHandler}(),function(){return e.errorHandler}(),t)},n.prototype.captureVideo=function(t){var e=this;H.device().capture.captureVideo(function(){return e.successHandler}(),function(){return e.errorHandler}(),t)},n}(o),B=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.push=function(t){var e=this,n=[t];H.exec(function(){return e.successHandler}(),function(){return e.errorHandler}(),"AWMenu","push",n)},n.prototype.setMenu=function(t){return new _(function(e,n){H.exec(e,n,"AWMenu","setMenu",[t])})},n.prototype.didOpenMenuItem=function(t){var e=this;H.exec(t,function(){return e.errorHandler}(),"AWMenu","receive",[])},n.prototype.openListener=function(t){var e=this;H.exec(t,function(){return e.errorHandler}(),"AWMenu","receive",[])},n.prototype.didTapMenuItem=function(t){return this.openListener(t)},n}(o),q=function(t){function n(){return t.call(this,v.noop,v.noop)||this}return e(n,t),n.prototype.enablePushNotifications=function(t,e){H.exec(t,e,"AWNotificationManager","enablePushNotifications",[])},n.prototype.disablePushNotifications=function(){H.exec(null,null,"AWNotificationManager","disablePushNotifications",[])},n.prototype.getNotifications=function(t,e){H.exec(t,e,"AWNotificationManager","getPushNotifications",[])},n.prototype.getOpeningNotification=function(t,e){H.exec(t,e,"AWNotificationManager","getOpeningNotification",[])},n.prototype.notificationDidLaunchApp=function(t,e){this.getOpeningNotification(t,e)},n.prototype.openListener=function(t,e){H.exec(t,e,"AWNotificationManager","openListener",[])},n.prototype.didTapNotificationFromActivityView=function(t,e){this.openListener(t,e)},n.prototype.removeNotification=function(t,e,n){H.exec(e,n,"AWNotificationManager","removeNotification",[t])},n.prototype.alert=function(t,e,n,r){H.notification().alert(t,e,n,r)},n.prototype.beep=function(t){H.notification().beep(t)},n.prototype.confirm=function(t,e,n,r){H.notification().confirm(t,e,n,r)},n.prototype.prompt=function(t,e,n,r,o){H.notification().prompt(t,e,n,r,o)},n}(o),K=function(t){function n(e){var n,r=t.call(this,v.noop,v.noop)||this;r.cacheKey="__appworksjs.deferredQueue",r.cache=new x,r.options=e||{preserveEvents:!1},n=H.document(),n.addEventListener("online",function(){r.processDeferredQueue()});var o=r.cache.getItem(r.cacheKey);return o?r.queue=JSON.parse(o):(r.queue=[],r.saveQueue()),r.networkStatus().online&&r.processDeferredQueue(),r}return e(n,t),n.prototype.defer=function(t,e){return this.queue.push({event:t,args:JSON.stringify(e)}),this.saveQueue(),this.queue.length-1},n.prototype.cancel=function(t){t>-1&&(this.queue.splice(t,1),this.saveQueue())},n.prototype.networkStatus=function(){return{online:H.connection().type!==H.Connection().NONE,offline:H.connection().type===H.Connection().NONE,connection:H.connection()}},n.prototype.saveQueue=function(){this.cache.setItem(this.cacheKey,JSON.stringify(this.queue))},n.prototype.processDeferredQueue=function(){var t=this;setTimeout(function(){t.queue.forEach(function(e){t.dispatchEvent(e)}),t.options.preserveEvents||(t.queue=[],t.saveQueue())},5e3)},n.prototype.dispatchEvent=function(t){var e=new CustomEvent(t.event,{detail:t.args});document.dispatchEvent(e)},n}(o),G=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.setPageUrl=function(t){var e=this;H.exec(function(){return e.successHandler}(),function(){return e.errorHandler}(),"AWPage","setPageUrl",[t])},n.prototype.openModalAppWebView=function(t,e){var n=this;cordova.exec(function(){return n.successHandler}(),function(){return n.errorHandler}(),"AWPage","showModalAppWebView",[t,e])},n.prototype.openModalExternalWebView=function(t,e){var n=this;cordova.exec(function(){return n.successHandler}(),function(){return n.errorHandler}(),"AWPage","showModalExternalWebView",[t,e])},n.prototype.setActionButtonCallback=function(t){var e=this;cordova.exec(t,function(){return e.errorHandler}(),"AWPage","setModalAppWebViewActionCallback",[])},n.prototype.closeModalAppWebView=function(){var t=this;cordova.exec(function(){return t.successHandler}(),function(){return t.errorHandler}(),"AWPage","closeModalAppWebView",[])},n}(o),Q=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.scan=function(){var t=this;H.exec(function(){return t.successHandler}(),function(){return t.errorHandler}(),"AWQRCodeReader","scan",[])},n.prototype.rename=function(){var t=this;H.exec(function(){return t.successHandler}(),function(){return t.errorHandler}(),"AWQRCodeReader","rename",[])},n}(o),Y=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n}(Q),J=function(t){function n(e,r){var o=t.call(this,e,r)||this;return o.seqNo=++n.idCounter,o.onprogress=null,o}return e(n,t),n.prototype.store=function(t,e,n){function r(t){var e=new ProgressEvent(null);return e.lengthComputable=t.lengthComputable,e.loaded=t.loaded,e.total=t.total,e}var o,i=this,u=[encodeURI(t),e,!1,this.seqNo,n&&n.headers],c=function(){return i.successHandler},s=this.onprogress;o=function(t){void 0!==t.lengthComputable?s&&s(r(t)):c&&c()(t)},H.exec(o,function(){return i.errorHandler}(),"AWSecureStorage","store",u)},n.prototype.retrieve=function(t,e){var n=this,r=[t,e];H.exec(function(){return n.successHandler}(),function(){return n.errorHandler}(),"AWSecureStorage","retrieve",r)},n.prototype.remove=function(t){var e=this,n=[t];H.exec(function(){return e.successHandler}(),function(){return e.errorHandler}(),"AWSecureStorage","removeFile",n)},n.prototype.fileExistsAtPath=function(t){var e=this,n=[t];H.exec(function(){return e.successHandler}(),function(){return e.errorHandler}(),"AWSecureStorage","fileExistsAtPath",n)},n}(o);J.idCounter=0;var z=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n}(J),X=function(t){function n(){return t.call(this,v.noop,v.noop)||this}return e(n,t),n.prototype.vibrate=function(t){return H.vibrate(t)},n}(o),Z=function(t){function n(){return t.call(this,v.noop,v.noop)||this}return e(n,t),n.prototype.open=function(t,e,n){return H.webview().open(t,e,n)},n}(o),$=function(t){function n(){var e=t.call(this,v.noop,v.noop)||this;return e.desktopEnvError=new Error("This method is only available in the AppWorks Desktop environment"),e}return e(n,t),n.prototype.getPath=function(t,e,n){this.validateEnv(),H.exec(e,n,"AWFileSystem","getPath",[t])},n.prototype.exists=function(t,e,n){this.validateEnv(),H.exec(e,n,"AWFileSystem","exists",[t])},n.prototype.isDir=function(t,e,n){this.validateEnv(),H.exec(e,n,"AWFileSystem","isDir",[t])},n.prototype.create=function(t,e,n){this.validateEnv(),H.exec(e,n,"AWFileSystem","create",[t])},n.prototype.copy=function(t,e,n,r){this.validateEnv(),H.exec(n,r,"AWFileSystem","copy",[t,e])},n.prototype.open=function(t,e,n){this.validateEnv(),H.exec(e,n,"AWFileSystem","open",[t])},n.prototype.reveal=function(t,e,n){this.validateEnv(),H.exec(e,n,"AWFileSystem","reveal",[t])},n.prototype.getDetails=function(t,e,n){this.validateEnv(),H.exec(e,n,"AWFileSystem","getDetails",[t])},n.prototype.listDirContents=function(t,e,n){this.validateEnv(),H.exec(e,n,"AWFileSystem","listDirContents",[t])},n.prototype.showSaveDialog=function(t,e,n){this.validateEnv(),H.exec(e,n,"AWFileSystem","showSaveDialog",[t])},n.prototype.showDirSelector=function(t,e){this.validateEnv(),H.exec(t,e,"AWFileSystem","showDirSelector",[])},n.prototype.showFileSelector=function(t,e,n){this.validateEnv(),H.exec(e,n,"AWFileSystem","showFileSelector",[t])},n.prototype.validateEnv=function(){if(!H.isDesktopEnv())throw this.desktopEnvError},n}(o),tt=E,et=E,nt=P,rt=P,ot=C,it=C,ut=x,ct=x,st=T,at=T,lt=M,ft=M,pt=D,dt=D,ht=N,yt=N,vt=F,gt=F,mt=I,At=I,wt=k,_t=k,bt=O,St=O,Wt=R,Ht=R,Et=R,Pt=R,Ct=L,xt=L,Tt=j,Mt=j,Dt=U,Nt=U,Ft=V,It=V,kt=B,Ot=B,Rt=B,Lt=B,jt=q,Ut=q,Vt=K,Bt=K,qt=G,Kt=G,Gt=Y,Qt=Y,Yt=z,Jt=z,zt=X,Xt=X,Zt=Z,$t=Z,te=$;t.Accelerometer=tt,t.AWAccelerometer=et,t.AppManager=nt,t.AWAppManager=rt,t.Auth=ot,t.AWAuth=it,t.Cache=ut,t.AWCache=ct,t.Camera=st,t.AWCamera=at,t.Compass=lt,t.AWCompass=ft,t.Component=pt,t.AWComponent=dt,t.Contacts=ht,t.AWContacts=yt,t.Device=vt,t.AWDevice=gt,t.FileChooser=mt,t.AWFileChooser=At,t.FileTransfer=wt,t.AWFileTransfer=_t,t.Finder=bt,t.AWFinder=St,t.HeaderBar=Wt,t.Header=Ht,t.AWHeader=Et,t.AWHeaderBar=Pt,t.Keyboard=Ct,t.AWKeyboard=xt,t.Location=Tt,t.AWLocation=Mt,t.Media=Dt,t.AWMedia=Nt,t.MediaCapture=Ft,t.AWMediaCapture=It,t.Menu=kt,t.AWMenu=Ot,t.AWHamburgerMenu=Rt,t.HamburgerMenu=Lt,t.NotificationManager=jt,t.AWNotificationManager=Ut,t.OfflineManager=Vt,t.AWOfflineManager=Bt,t.Page=qt,t.AWPage=Kt,t.QRReader=Gt,t.AWQRReader=Qt,t.SecureStorage=Yt,t.AWSecureStorage=Jt,t.Vibration=zt,t.AWVibration=Xt,t.WebView=Zt,t.AWWebView=$t,t.AWFileSystem=te}(this.Appworks=this.Appworks||{});
//# sourceMappingURL=appworks.min.js.map
